# vim: ft=sh
SUBCOMMAND_DESC="Library for homebrew definitions"
SUBCOMMAND_HELP=$(cat <<EOH
Functions:

brew_pkg PKG      brew_pkg "package_name"
                  will install package_name unless
                  it is already installed.

brew_cask CASK    brew_cask "cask_name"
                  will install cask_name unless
                  it is already installed.

EOH
)

function brew_pkg() {
  local formula="${1}"
  local short=${formula##*/}
  log "brew_pkg: ${formula} shortname: ${short}"
  do_run "brew install ${formula}"
    unless "brew list --versions ${short} &> /dev/null"
}

function brew_cask() {
  local cask="${1}"
  local short=${cask##*/}
  log "brew_cask: ${cask} shortname: ${short}"
  do_run "brew cask install ${cask}"
    unless "brew cask list --versions ${short} &> /dev/null"
}
